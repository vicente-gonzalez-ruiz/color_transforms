<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" > 
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>The YCrCb Transform</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- xhtml,mathml,html --> 
<meta name="src" content="index.tex" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead">The
<!--l. 4--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
Transform</h2>
 <div class="author" ><a 
href="https://cms.ual.es/UAL/personas/persona.htm?id=515256515553484875" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">lez Ruiz</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://cms.ual.es/UAL/universidad/departamentos/informatica/index.htm" ><span 
class="ecrm-1200">Depto Inform</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">tica</span></a> <span 
class="ecrm-1200">- </span><a 
href="https://www.ual.es" ><span 
class="ecrm-1200">UAL</span></a></div><br />
<div class="date" ><span 
class="ecrm-1200">December 4, 2022</span></div>
   </div>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   &#x00A0;<span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">The <!--l. 3--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
color domain</a></span>
<br />   &#x00A0;<span class="sectionToc" >2 <a 
href="#x1-30002" id="QQ2-1-3">The <!--l. 4--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle> <mo 
class="MathClass-rel">&#x21D4;</mo><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
transform</a></span>
<br />   &#x00A0;<span class="sectionToc" >3                     <a 
href="#x1-40003" id="QQ2-1-4">Decorrelation                     with                     the
<!--l. 5--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math></a></span>
<br />   &#x00A0;<span class="sectionToc" >4                      <a 
href="#x1-50004" id="QQ2-1-5">Quantization                      in                      the
<!--l. 6--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math> domain</a></span>
<br />   &#x00A0;<span class="sectionToc" >5 <a 
href="#x1-60005" id="QQ2-1-6">References</a></span>
   </div>
<!--l. 8--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>The <!--l. 8--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
color domain</h3>
<!--l. 9--><p class="noindent" ><!--l. 9--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math> is a <span 
class="ecti-1000">luma</span>-based
&#x0028;luminance-based<span class="footnote-mark"><a 
href="index2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-2001f1"></a> 
                                                                  

                                                                  
color domain. This domain rely on the idea of separating the luminance
coe&#xFB03;cients &#x0028;Y&#x0029; from two <span 
class="ecti-1000">chroma </span>coe&#xFB03;cients &#x0028;red and blue in the case of
<!--l. 13--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>&#x0029;.
After using the transform, most of the energy will be concentrated in the luma
&#x0028;<!--l. 15--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>&#x0029;
subband.
</p><!--l. 17--><p class="indent" >   The <!--l. 17--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
color model can be considered the digital version of the
<a 
href="https://en.wikipedia.org/wiki/YUV" ><!--l. 19--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YUV</mtext></mstyle></math>
&#x0028;analog&#x0029; color model</a>, and in some way can be used to maintain the
compatibility with legacy black and white systems is maintained while at
the same time the bandwidth of the signal can be optimized by using
di&#xFB00;erent transmission bandwidths for the brightness and the chroma
components.<span class="footnote-mark"><a 
href="index3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-2002f2"></a> &#x00A0;<span class="cite">&#x005B;<span 
class="ecbx-1000">?</span>&#x005D;</span>
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-30002"></a>The <!--l. 27--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle> <mo 
class="MathClass-rel">&#x21D4;</mo><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
transform</h3>
<!--l. 30--><p class="noindent" >To convert a &#x0028;color&#x0029; pixel from the <!--l. 30--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math>
domain into the <a 
href="https://en.wikipedia.org/wiki/YCbCr" ><!--l. 31--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math></a> color
domain, we use the <!--l. 32--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB/YCrCb</mtext></mstyle></math>
&#x0028;analysis&#x0029; transform&#x00A0;<span class="cite">&#x005B;<span 
class="ecbx-1000">?</span>&#x005D;</span> </p><table class="equation"><tr><td>
<!--l. 37--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mstyle 
   id="x1-3001r1"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false"> <mtable  align="axis" style=""  
equalrows="false" columnlines="none none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >Y</mtext></mstyle>   </mtd><mtd 
class="array"  columnalign="center">  = </mtd><mtd 
class="array"  columnalign="left"> 0.299<mstyle 
class="text"><mtext  >R</mtext></mstyle> + 0.587<mstyle 
class="text"><mtext  >G</mtext></mstyle> + 0.114<mstyle 
class="text"><mtext  >B</mtext></mstyle>  </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >Cr</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  = </mtd><mtd 
class="array"  columnalign="left"> 0.713&#x0028;<mstyle 
class="text"><mtext  >R</mtext></mstyle> &#x2212;<mstyle 
class="text"><mtext  >Y</mtext></mstyle>&#x0029; + &#x03B4;            </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mstyle 
class="text"><mtext  >Cb</mtext></mstyle>  </mtd><mtd 
class="array"  columnalign="center">  = </mtd><mtd 
class="array"  columnalign="left"> 0.564&#x0028;<mstyle 
class="text"><mtext  >B</mtext></mstyle> &#x2212;<mstyle 
class="text"><mtext  >Y</mtext></mstyle>&#x0029; + &#x03B4;,           </mtd></mtr><!--lcl--></mtable></mo>
</math></td><td class="eq-no">&#x0028;1&#x0029;</td></tr></table>
<!--l. 45--><p class="indent" >   where, </p><table class="equation"><tr><td>
                                                                  

                                                                  
<!--l. 46--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
<mstyle 
   id="x1-3002r2"  class="label" ></mstyle><!--endlabel--><mo 
class="MathClass-open" stretchy="false">&#x03B4;</mo> <mo 
class="MathClass-rel">=</mo> <mrow><mo fence="true" form="prefix"> {</mo><mrow> <mtable  align="axis" style=""  
equalrows="false" columnlines="none" equalcolumns="false" class="array"> <mtr><mtd 
class="array"  columnalign="left">  <mn>1</mn><mn>2</mn><mn>8</mn>     </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for&#x00A0;8&#x00A0;bits&#x00A0;&#x0028;unsigned&#x0029;&#x00A0;images</mtext></mstyle><mo 
class="MathClass-punc">,</mo>     </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>3</mn><mn>2</mn><mn>7</mn><mn>6</mn><mn>8</mn> </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for&#x00A0;16&#x00A0;bits&#x00A0;&#x0028;unsigned&#x0029;&#x00A0;images</mtext></mstyle><mo 
class="MathClass-punc">,</mo>   </mtd>
</mtr>  <mtr><mtd 
class="array"  columnalign="left"> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn>     </mtd><mtd 
class="array"  columnalign="left">  <mstyle 
class="text"><mtext  >for&#x00A0;&#xFB02;oating&#x00A0;point&#x00A0;&#x0028;</mtext></mstyle><mo 
class="MathClass-open" stretchy="false">&#x005B;</mo><mn>0</mn><mo 
class="MathClass-punc">,</mo><mn>1</mn><mo 
class="MathClass-close" stretchy="false">&#x005D;</mo><mstyle 
class="text"><mtext  >&#x0029;&#x00A0;images</mtext></mstyle>  </mtd></mtr> <!--ll--></mtable>                                               </mrow><mo fence="true" form="postfix"></mo></mrow>
</math></td><td class="eq-no">&#x0028;2&#x0029;</td></tr></table>
<!--l. 55--><p class="indent" >   is used to avoid negative coe&#xFB03;cients. As it can be seen,
<!--l. 55--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></math> and
<!--l. 56--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></math> are scaled
versions of <!--l. 56--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-bin">&#x2212;</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>
and <!--l. 57--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >B</mtext></mstyle> <mo 
class="MathClass-bin">&#x2212;</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>,
so <!--l. 57--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></math>
and <!--l. 57--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></math>
can be interpreted as measures of how much red and blue content in
a pixel di&#xFB00;ers from luma, respectively. Notice also that for a gray pixel,
<!--l. 60--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >R</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >G</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >B</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>, and so
<!--l. 61--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-rel">=</mo> <mn>0</mn></math>&#x00A0;<span class="cite">&#x005B;<span 
class="ecbx-1000">?</span>&#x005D;</span>.
</p><!--l. 63--><p class="indent" >   As it can be seen, considering that the
<!--l. 63--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >RGB</mtext></mstyle></math> values ranges
between <!--l. 64--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn></math> and
<!--l. 64--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>2</mn><mn>5</mn><mn>5</mn></math> &#x0028;and rounding to the
nearest integer&#x0029;, <!--l. 65--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn> <mo 
class="MathClass-rel">&#x2264;</mo><mstyle 
class="text"><mtext  >Y</mtext></mstyle> <mo 
class="MathClass-rel">&#x2264;</mo> <mn>2</mn><mn>5</mn><mn>5</mn></math>,
<!--l. 65--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn> <mo 
class="MathClass-rel">&#x2264;</mo><mstyle 
class="text"><mtext  >Cr</mtext></mstyle> <mo 
class="MathClass-rel">&#x2264;</mo> <mn>2</mn><mn>5</mn><mn>5</mn></math> and
<!--l. 66--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn> <mo 
class="MathClass-rel">&#x2264;</mo><mstyle 
class="text"><mtext  >Cb</mtext></mstyle> <mo 
class="MathClass-rel">&#x2264;</mo> <mn>2</mn><mn>5</mn><mn>5</mn></math>,
and therefore, the number of bits that are necessary to represent each
<!--l. 67--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
component is 8 &#x0028;although we must use &#xFB02;oating point arithmetic to perform the
transform&#x0029;.
</p><!--l. 70--><p class="indent" >   Finally, notice that the <!--l. 70--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
transform is not orthogonal because the analysis &#xFB01;lters are
not independent. This can be seen in the Eq.&#x00A0;<a 
href="#x1-3001r1">1<!--tex4ht:ref: eq:alternative_YCrCb --></a>, where the
<!--l. 72--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></math> coe&#xFB03;cients depend
on the coe&#xFB03;cients of <!--l. 73--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>,
and therefore, there is a dependency between both <a 
href="https://en.wikipedia.org/wiki/Basis_(linear_algebra)" >basis</a>, and something similar happens
for the <!--l. 76--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></math>
subband. This can be also easely checked:
                                                                  

                                                                  
<!--tex4ht:inline--></p><!--l. 77--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" >
    <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>2</mn><mn>9</mn><mn>9</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>8</mn><mn>7</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>1</mn><mn>8</mn><mn>7</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>1</mn><mn>4</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>0</mn><mn>8</mn><mn>1</mn><mn>3</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>0</mn><mn>5</mn><mn>5</mn><mn>4</mn><mn>5</mn><mn>1</mn><mo 
class="MathClass-rel">&#x2260;</mo><mn>0</mn><mo 
class="MathClass-punc">,</mo>
</math>
<!--l. 78--><p class="nopar" >
<!--tex4ht:inline--></p><!--l. 78--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" >
  <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>2</mn><mn>9</mn><mn>9</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>6</mn><mn>8</mn><mn>7</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn><mn>8</mn><mn>7</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>3</mn><mn>1</mn><mn>3</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>1</mn><mn>4</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn> <mo 
class="MathClass-rel">=</mo> <mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>8</mn><mn>7</mn><mn>9</mn><mn>1</mn><mn>4</mn><mn>4</mn><mo 
class="MathClass-rel">&#x2260;</mo><mn>0</mn><mo 
class="MathClass-punc">,</mo><mi 
>&#x00A0;</mi><mstyle mathvariant="normal"><mi 
>a</mi><mi 
>n</mi><mi 
>d</mi></mstyle>
</math>
<!--l. 80--><p class="nopar" >
<!--tex4ht:inline--></p><!--l. 80--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" >
  <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn> <mo 
class="MathClass-bin">&#x2217;</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>1</mn><mn>6</mn><mn>8</mn><mn>7</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">+</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>1</mn><mn>8</mn><mn>7</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">&#x2217;</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>3</mn><mn>1</mn><mn>3</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">+</mo> <mo 
class="MathClass-open" stretchy="false">&#x0028;</mo><mo 
class="MathClass-bin">&#x2212;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>0</mn><mn>8</mn><mn>1</mn><mn>3</mn><mo 
class="MathClass-close" stretchy="false">&#x0029;</mo> <mo 
class="MathClass-bin">&#x2217;</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>5</mn> <mo 
class="MathClass-rel">=</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>0</mn><mn>1</mn><mn>3</mn><mn>7</mn><mn>1</mn><mn>5</mn><mn>3</mn><mn>1</mn><mo 
class="MathClass-rel">&#x2260;</mo><mn>0</mn><mo 
class="MathClass-punc">.</mo>
</math>
<!--l. 81--><p class="nopar" >
</p><!--l. 85--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-40003"></a>Decorrelation with the <!--l. 85--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math></h3>
<!--l. 86--><p class="noindent" >The <!--l. 86--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math> transform
uses three non-orthogonal &#x0028;interdependent&#x0029; &#xFB01;lters to generate three subbands&#x00A0;<span class="cite">&#x005B;<a 
href="#Xvruiz__transform_coding">1</a>&#x005D;</span> that we will
denote by <!--l. 89--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>,
                                                                  

                                                                  
<!--l. 89--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></math>, and
<!--l. 89--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></math>&#x00A0;<span class="cite">&#x005B;<span 
class="ecbx-1000">?</span>&#x005D;</span>.
Since in most of the images, most of the energy is concentrated in the subband
<!--l. 91--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>,
the transformed image improves its RD curve. This can be checked in the
<a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/contents/YCrCb_SQ/YCrCb_SQ.ipynb" >notebook</a>.
</p><!--l. 95--><p class="indent" >   As it can be also seen in this notebook, the
<!--l. 95--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
transform the gains of the synthesis &#xFB01;lters depends on the amplitude of the
coe&#xFB03;cients. This basically means that we cannot optimze the quantization steps to
minimize the distortion.
</p><!--l. 100--><p class="indent" >   The <!--l. 100--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
color domain has been used in JPEG to remove both, statistical and visual
redundancy.
</p><!--l. 103--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-50004"></a>Quantization in the <!--l. 103--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >YCrCb</mtext></mstyle></math>
domain</h3>
<!--l. 105--><p class="noindent" >The YCrCb transform is not orthogonal and the relative synthesis &#xFB01;lters gains
depends on the energy of the inversely transformed components. In this case, we can
estimate the distortion generated by the quantization of a color subband, always
measured in the RGB domain, if the rest of subbands are unquantized. This can be
the algorithm:
     </p><ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-5002x1">
     <!--l. 112--><p class="noindent" >Variying the <!--l. 112--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi mathvariant="normal">&#x0394;</mi></math>,
     estimate the RD curve for each YCrCb subband, keeping the other subbands
     unquantized. The distortion must be measures in the RGB domain.
     </p></li>
<li 
  class="enumerate" id="x1-5004x2">
     <!--l. 115--><p class="noindent" >Sort the RD points by their slope.
     </p></li>
<li 
  class="enumerate" id="x1-5006x3">
     <!--l. 116--><p class="noindent" >Apply progressively the combinations quantization steps. The distortion
     can be measure in both, the color-DCT and the RGB domains.</p></li></ol>
<!--l. 120--><p class="noindent" >See this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/YCrCb_compression.ipynb" >notebook</a>.
                                                                  

                                                                  
</p><!--l. 122--><p class="indent" >   Notice that the only alternative to this &#x201C;fast&#x201D; rate-control algorithm is to perform
a brute-force search of quantization steps combinations.
</p><!--l. 126--><p class="indent" >   The synthesis &#xFB01;lters gains are important because the quantization steps of each
YCrCb component should be adjusted in order to e&#xFB00;ectively provide the desired
number of <a 
href="http://www.winlab.rutgers.edu/~crose/322_html/quantization.pdf" >bins</a> &#x0028;di&#xFB00;erent dequantized values&#x0029; in each component.
</p><!--l. 132--><p class="indent" >   The synthesis &#xFB01;lters generates a gain of
<!--l. 132--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-rel">&#x007C;</mo><mo 
class="MathClass-rel">&#x007C;</mo><msup><mrow 
><mn>1</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <msup><mrow 
><mn>1</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <msup><mrow 
><mn>1</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
><mo 
class="MathClass-rel">&#x007C;</mo><msubsup><mrow 
><mo 
class="MathClass-rel">&#x007C;</mo></mrow><mrow 
><mn>2</mn></mrow><mrow 
><mn>2</mn></mrow></msubsup 
> <mo 
class="MathClass-rel">=</mo> <mn>3</mn></math> &#x0028;square of the
Euclidean norm&#x0029; for the <!--l. 133--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Y</mtext></mstyle></math>
component, <!--l. 134--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-rel">&#x007C;</mo><mo 
class="MathClass-rel">&#x007C;</mo><mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>0</mn><msup><mrow 
><mn>2</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>1</mn><msup><mrow 
><mn>4</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <msup><mrow 
><mn>0</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
><mo 
class="MathClass-rel">&#x007C;</mo><msubsup><mrow 
><mo 
class="MathClass-rel">&#x007C;</mo></mrow><mrow 
><mn>2</mn></mrow><mrow 
><mn>2</mn></mrow></msubsup 
> <mo 
class="MathClass-rel">=</mo> <mn>2</mn><mo 
class="MathClass-punc">.</mo><mn>4</mn><mn>7</mn><mn>5</mn><mn>4</mn></math>
for the <!--l. 134--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cr</mtext></mstyle></math>
component, and <!--l. 135--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-rel">&#x007C;</mo><mo 
class="MathClass-rel">&#x007C;</mo><msup><mrow 
><mn>0</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <mn>0</mn><mo 
class="MathClass-punc">.</mo><mn>3</mn><mn>4</mn><msup><mrow 
><mn>4</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
> <mo 
class="MathClass-bin">+</mo> <mn>1</mn><mo 
class="MathClass-punc">.</mo><mn>7</mn><mn>7</mn><msup><mrow 
><mn>2</mn></mrow><mrow 
><mn>2</mn></mrow></msup 
><mo 
class="MathClass-rel">&#x007C;</mo><msubsup><mrow 
><mo 
class="MathClass-rel">&#x007C;</mo></mrow><mrow 
><mn>2</mn></mrow><mrow 
><mn>2</mn></mrow></msubsup 
> <mo 
class="MathClass-rel">=</mo> <mn>3</mn><mo 
class="MathClass-punc">.</mo><mn>2</mn><mn>5</mn><mn>8</mn><mn>3</mn><mn>2</mn></math>
for the <!--l. 136--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mstyle 
class="text"><mtext  >Cb</mtext></mstyle></math>
component. So, when compressing an image through quantization, the QSs should be
modulated accordinly &#x0028;the higher the gain, the higher the quantization error, and
therefore, the smaller the QS should be&#x0029;.
</p><!--l. 141--><p class="indent" >   The RGB/YCrCb transform is not
orthogonal<span class="footnote-mark"><a 
href="index4.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-5007f3"></a> 
and therefore the contribution of each channel to the quality of the reconstructed
image <!--l. 148--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover 
accent="true"><mrow 
><mi 
>X</mi></mrow><mo accent="true">&#x007E;</mo></mover></math>
are not additive &#x0028;this can be seen in this <a 
href="https://github.com/Sistemas-Multimedia/Sistemas-Multimedia.github.io/blob/master/study_guide/06-color_transform/performance.ipynb" >notebook</a>&#x0029;.
</p>
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-60005"></a>References</h3>
   <div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 &#x005B;1&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xvruiz__transform_coding"></a>V.&#x00A0;Gonz&#x00E1;lez-Ruiz. <a 
href="https://vicente-gonzalez-ruiz.github.io/transform_coding/" >Transform Coding</a>.
</p>
   </div>
    
</body></html> 

                                                                  


